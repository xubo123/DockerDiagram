define("common-jquery:widget/js/ui/base/base.js",function(n,t,e){function i(n){var t=o.isFunction(n)?n:function(){this.type="base"},e=function(n){u.create(this),this.guid=++o.guid,t.apply(this,arguments),"object"==typeof n&&this._init(n),this.init(n)};return e.extend=function(n){return o.extend(e.prototype,n),e},e.extend({_init:function(n){var t=this;o.each(n,function(n,e){o.isFunction(e)?t.on(n,e):t[n]=e})},init:function(){},render:function(){},dispose:function(){},getElements:function(){}})}var o=n("common-jquery:widget/lib/jquery/jquery.js"),u=n("common-jquery:widget/js/util/event/event.js");e.exports=i});
;define("common-jquery:widget/js/util/event/event.js",function(e,n,r){function t(e){var n=i(e);return i.extend(e,{on:function(r,t){return n.on(o(r),t),e},once:function(r,t){return n.one(o(r),t),e},fire:function(r){var t=Array.prototype.slice.call(arguments,1);return t.unshift(o(r)),n.trigger.apply(n,t),e},off:function(r,t){return n.unbind(o(r),t),e}}),e.un=e.off,e.trigger=e.fire,e}function o(e){return"on"+e.replace(/^on/i,"").toLowerCase()}var i=e("common-jquery:widget/lib/jquery/jquery.js");r.exports=t({}),r.exports.create=t,window.F&&(window.F.ec=r.exports)});
;define("common-jquery:widget/js/logic/login/login.js",function(o,n,e){var i=o("common-jquery:widget/lib/jquery/jquery.js"),t=o("common-jquery:widget/js/util/event/event.js"),s=o("common-jquery:widget/js/ui/dialog/dialog.js"),c=null,r=!1,u="http://passport.bdimg.com/passApi/js/uni_login_wrapper.js?cdnversion="+(new Date).getTime(),a="/common/isLogin",g={patch:"",isLogin:function(){window.location.reload(!0)},notLogin:function(){t.fire("login.log",{patch:g.patch,onLoginSuccess:g.isLogin})},submitErr:function(){}},l={registerLink:"https://passport.baidu.com/v2/?reg&tpl=exp&u="+encodeURIComponent(top.location.href),onLoginSuccess:g.isLogin,onLoginFailure:g.notLogin,onSubmitedErr:g.submitErr,cache:!0,tangram:!0,apiOpt:{product:"exp",u:window.top.location.href,staticPage:"http://jingyan.baidu.com/static/common/html/v3Jump.html"},authsite:["tsina","renren","tqq","fetion"],authsiteCfg:{tpl:"exp",display:"popup",u:window.top.location.href,jumpUrl:"http://jingyan.baidu.com/static/common/html/xd.html",onBindSuccess:function(){return l.onLoginSuccess(),!1},onBindFailure:function(){return l.onSubmitedErr(),!1}},onshow:function(){}};t.on("login.check",function(o,n){i.extend(g,n),i.post(a,{_t:(new Date).getTime()},function(o){return 0==o.errno?(o.userType>0?t.fire("login.setUsername",{onSetSuccess:g.isLogin,from:"check"}):t.fire("login._setUsernameSuccess"),!0):(g.notLogin(),!1)})}),t.on("login.log",function(o,n){n=n||{},n.onLoginSuccess||(n.onLoginSuccess=function(){window.location.reload(!0)}),g.isLogin=n.onLoginSuccess,l.onLoginSuccess=function(o){t.fire("dialog.close"),t.fire("login._success"),o.returnValue=!1},r?c&&c.show():(i.ajax({dataType:"script",crossDomain:!0,url:u,success:function(){c=passport.pop.init(l),c.show(),i.extend(e.exports,c)}}),r=!0)}),t.on("login._success",function(){t.fire("login.setUsername",{onSetSuccess:g.isLogin})}),t.on("login.setUsername",function(o,n){var e=function(){var o=s.iframe({content:"/z/exp-common/fillname.html?t="+(new Date).getTime(),title:"填写用户名",width:560,height:250,autoDispose:!0,close:function(){window.Geditorframe&&window.Geditorframe.onDialogClose(),o.close()}})};n.onSetSuccess||(n.onSetSuccess=function(){window.location.reload(!0)}),g.isLogin=n.onSetSuccess,n.from&&"check"==n.from?e():i.post(a,{_t:(new Date).getTime()},function(o){return 0==o.errno?(o.userType>0?e():t.fire("login._setUsernameSuccess"),!0):void 0},"json")}),t.on("login._setUsernameSuccess",function(){void 0!=g.userFormerLoginStatus?g.isLogin(g.userFormerLoginStatus):g.isLogin()}),t.on("login._bindWeibosuccess",function(o,n){var e="微博";n&&n.fromWeibo&&(e=n.fromWeibo),alert("您已经成功绑定"+e+"。若您的经验文章被分享到新浪微博，将会@您。感谢您的热心参与！"),location.reload()}),t.on("dialog.close",function(){c&&c.hide&&c.hide()})});
;define("common-jquery:widget/userbar/userbar.js",function(e,t,n){var o=e("common-jquery:widget/lib/jquery/jquery.js"),r=e("common-jquery:widget/js/util/event/event.js");e("common-jquery:widget/js/logic/login/login.js");var i={init:function(){var e=this;if(e.updateMsg(),1==F.context("user").isLogin){var t=o("#userbar-logout");t&&(location.href.indexOf("/user/nuc")>-1||location.href.indexOf("/user/npublic")>-1?t.attr("href","http://passport.baidu.com/?logout&aid=7&u=http://jingyan.baidu.com"):t.attr("href","http://passport.baidu.com/?logout&aid=7&u="+encodeURIComponent(location.href)))}else{o("#userbar-login").click(function(e){e.preventDefault(),r.fire("login.check")});var n=o("#top-reg-link");if(n){var i=n.attr("href");n.attr("href",i+encodeURIComponent(location.href))}}},updateMsg:function(){var e="http://msg.baidu.com/ms?ct=18&cm=3&tn=bmSelfUsrStat&mpn=13227114&un="+F.context("user").name+"&t="+(new Date).getTime();o.ajax({type:"get",async:!1,url:e,dataType:"jsonp",success:function(){t()},error:function(){t()}});var t=function(){redmsg&&msgnum>0&&o("#mnum").html(msgnum)}}};n.exports=i});
;define("common-jquery:widget/js/logic/msg/income-share/income-share.js",function(require,exports,module){var Dialog=(require("common-jquery:widget/lib/jquery/jquery.js"),require("common-jquery:widget/js/ui/dialog/dialog.js")),IncomeShare={init:function(data,type){{var money=+data.amount+"+",msgId=data.messageid,content=['<div class="sun"></div>','<p class="money">恭喜你本月成功提现<span>'+money+"</span>元现金稿酬！",'<div class="share-container">','<div class="bdsharebuttonbox" data-tag="share_1">','<a class="bds_weixin" data-cmd="weixin"></a>','<a class="bds_tsina" data-cmd="tsina"></a>','<a class="bds_qzone" data-cmd="qzone" href="#"></a>','<a class="bds_tqq" data-cmd="tqq"></a>',"</div>",'<p class="desc">成功分享至站外还有额外的福利分成哦！<a href="" target="_blank">详情>></a></p>',"</div>"].join("");Dialog.alert(content,{title:"提现成功",width:500,height:405,className:"income-share-dialog",open:function(){var Msg=require("common-jquery:widget/js/logic/msg/msg.js");with(Msg.readMessage(type,{mid:msgId}),window._bd_share_config={common:{bdUrl:"http://jingyan.baidu.com/user/income",bdSnsKey:{},bdText:"写经验，有钱赚！我刚刚在百度经验提现了"+money+"元现金！赶快来看看吧！",bdMini:"2",bdMiniList:!1,bdPic:"",bdStyle:"0",bdSize:"32"},share:{}},document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?v=86835285.js?cdnversion="+~(-new Date/36e5)]}})}}};module.exports=IncomeShare});
;define("common-jquery:widget/js/logic/msg/msg.js",function(e,t,i){var o=e("common-jquery:widget/lib/jquery/jquery.js"),n=e("common-jquery:widget/js/ui/dialog/dialog.js"),s=e("common-jquery:widget/js/ui/tip/tip.js"),a=e("common-jquery:widget/lib/cookie/cookie.js");e("common-jquery:widget/lib/jquery.plugins/browser.js");var r=e("common-jquery:widget/js/logic/msg/income-share/income-share.js"),c=e("common-jquery:widget/js/logic/msg/dubangbang/dubangbang.js"),m={readMessage:function(e,t,i){var n={method:"userReadSystemNotice",maintype:e},s=o.extend(n,t||{});o.post("/submit/notice",s,function(){o.isFunction(i)&&i.apply(this,arguments)})},show:function(e,t){var i=this,n=e.length;if(t){var r=['<div class="msg-brief">',"<p>你有<b>"+t+"</b>条未读消息</p>",'<div class="close-msg"></div>',"</div>",'<div class="msg-detail">',e.join(""),"</div>"].join("");i.LEFT_OFFSET=16,i.TOP_OFFSET=10,i.msgTip=new s({position:{my:"left-"+i.LEFT_OFFSET+" top+"+i.TOP_OFFSET,at:"left bottom"},tooltipClass:"msg-container",arrow:!0,radius:!1,closebox:!1,shadow:!0,content:r,direction:"top",target:o("#my-home-exp"),open:function(){var e=this;i.offsetTop=o(e.getTipContainer()).offset().top;var t=o(".msg-container"),s=o(".msg-brief"),r=o(".msg-detail");r.on("mouseenter",".n-item",function(){o(this).addClass("hover")}).on("mouseleave",".n-item",function(){o(this).removeClass("hover")}),t.on("mouseenter",function(){s.addClass("hover"),r.show()}).on("mouseleave",function(){s.removeClass("hover"),r.hide()}).on("click",".item-close",function(){var e=o(this),t=e.data("type")+"",s={};if("4"===t&&(s={group:1,maintype:""}),-1!=t.indexOf("cms")){var r=t.split("-")[1],c=a.get("EXP_MSG_CMS");c&&"-1"==c.indexOf(r)&&(c+="_"+r),a.set("EXP_MSG_CMS",c||r,{expires:6048e5,path:"/"}),n-=1,n>0?e.closest(".n-item").remove():i.msgTip.hide()}else i.readMessage(t,s,function(t){t.errno||(n-=1),n>0?e.closest(".n-item").remove():i.msgTip.hide()})}).on("click",".close-msg",function(){i.msgTip.hide()})}})}},noticeSingleTpl:function(e){if(e.count){e=o.extend({url:"/user/nuc/message",count:0,item:"系统通知",mid:4},e||{});var t=['<div class="n-item clearfix">','<a href="'+e.url+'">',"有<b>"+e.count+"</b>个"+e.item,"</a>",'<span class="item-close" data-type="'+e.mid+'"></span>',"</div>"].join("");return t}},get:function(){var e=this;o.get("/notice/getSystemNoticeCount?t="+(new Date).getTime(),function(t){if(!t.errno&&t.msg){var t=t.msg;if(t.length){var i=[],s=0;o.each(t,function(t,a){if(0!==a.count)switch(a.maintype){case 2:i.push(e.noticeSingleTpl({url:"/user/nuc/interact?tab=followed",count:a.count,item:"新粉丝",mid:2})),s++;break;case 3:i.push(e.noticeSingleTpl({url:"/user/nuc/interact?tab=comment",count:a.count,item:"新评论",mid:3})),s++;break;case 0:i.push(e.noticeSingleTpl({url:"/user/nuc/message",count:a.count,item:"系统通知",mid:4})),s++;break;case 13:if(i.push(e.noticeSingleTpl({url:"/user/nuc/message",count:a.count,item:"有得通知",mid:13})),s++,a.question){var m=[],u=a.question[0];o.each(a.question,function(e){m.push(e.messageid)}),n.alert(['<div class="que-rol-pop">',"<h3>疑问解决！</h3>","<p>感谢你的耐心答复！</p>","<p>用户对你的经验《",'<a target="_blank" href="/article/'+u.eidEnc+'.html">',u.content,"</a>","》疑问已解决。","</p>","</div>"].join(""),{width:400,height:250,close:function(){e.readMessage(13,{mid:m})}})}break;case 12:break;case 31:break;case 10:r.init(a.withdraw[0],a.maintype);break;case 21:c.init(a)}}),F.context("msg_topic")&&F.context("msg_topic").length&&o.each(F.context("msg_topic"),function(e,t){var o=a.get("EXP_MSG_CMS");if(!(o&&-1!=o.indexOf(t.stamp)||(new Date).getTime()>new Date(t.end).getTime())){var n=t.msg,r=t.link;""!=r&&(n='<a log="'+t.log+'" href="'+r+'" target="_blank">'+n+"</a>"),s++;var c=1!=s&&0==e?" has-border-top":"";i.push(['<div class="n-item n-cms'+c+' clearfix">',n,'<span class="item-close" data-type="cms-'+t.stamp+'"></span>',"</div>"].join(""))}}),i&&e.show(i,s)}}},"json")},getTypeFromPage:function(){var e=location.href;return-1!=e.indexOf("/user/nuc")?-1!=e.indexOf("followed")?2:-1!=e.indexOf("comment")?3:-1!=e.indexOf("message")?4:-1:-1},init:function(){var e=this;if(F.context("user").isLogin&&location.href==top.location.href){var t=e.getTypeFromPage();-1==t?e.get():(e.readMessage(t),setTimeout(e.get,1e3)),o(window).on("scroll resize",function(){e.resize()})}},resize:function(){var e=this;if(e.msgTip){var t=e.msgTip.getTipContainer(),i=t.css("top"),n=o(e.msgTip.target),s=n.offset().left,a=(n.width(),s-e.LEFT_OFFSET+7);if(o.browser.ie&&o.browser.ie<7){i=o(window).height()+o(window).scrollTop();var r=o(t).height();i=i-r-3+"px",o(t).css({top:i,right:"auto",left:a,position:"absolute",overflow:""})}else{var c;c=o(window).scrollTop()>e.offsetTop?0:e.offsetTop,o(t).css({top:c,left:a,bottom:"auto",right:"auto",position:"fixed",overflow:""})}}}};i.exports=m});
;define("common-jquery:widget/js/logic/msg/dubangbang/dubangbang.js",function(e,i,s){var a=e("common-jquery:widget/lib/jquery/jquery.js"),o=e("common-jquery:widget/js/ui/dialog/dialog.js"),n={map:function(e){var i=e.level||1,s="",a=["您已闯过此关，获得<em>"+e.new_gift+"</em>","恭喜您又闯过一关！<br/>奖品由<em>"+e.old_gift+"</em>升级为<em>"+e.new_gift+"</em>",["恭喜您赢得了","<em>"+e.new_gift+"</em>","<br/>","并额外获得","<span>"+e.cash+"元</span>","现金红包"].join("")];switch(+i){case 1:case 2:s=a[0],s+="<br/>英雄，请受我一拜！~";break;case 3:s=a[2],s+="<br/>继续挑战更高关卡吧～";break;case 4:case 5:case 6:case 7:case 8:s=a[1],s+="<br/>英雄，请受我一拜！~"}return s},init:function(i){var s=this;s.options=i;var n=['<div class="wrapper">',"<header>","<h1>闯关成功！</h1>",'<div class="i-smile"></div>','<div class="cur-pointer close-dialog close-x"></div>',"</header>",'<div class="content">',"<p>"+s.map(s.options.other)+"</p>",'<div class="cur-pointer close-dialog close-btn">继续挑战</div>',"</div>","</div>"].join(""),c=o.alert(n,{width:393,height:247,className:"dialog-dubangbang",open:function(){a(".close-dialog").click(function(){c.close()})},close:function(){var i=e("common-jquery:widget/js/logic/msg/msg.js");i.readMessage(21,{mid:s.options.messageid})}})}};s.exports=n});
;define("common-jquery:widget/js/ui/tip/tip.js",function(t,i,s){var e=t("common-jquery:widget/lib/jquery/jquery.js"),o=t("common-jquery:widget/js/ui/base/base.js");t("common-jquery:widget/lib/jquery.ui/jquery.ui.tooltip.js"),s.exports=o(function(t){var i=this;i.position=e.extend({my:"left top",at:"left bottom+10",collision:"none",using:function(s,o){"popcms"!=t.rightbottom&&e(this).css(s),i.arrow&&e("<div>").addClass("tip-arrow").addClass("tip-arrow-"+(i.direction||o[o.important])).html("<em></em><span></span>").appendTo(this),i.closebox&&(e('<a href="#" class="tip-close" title="关闭">×</a>').addClass(o.vertical).addClass(o.horizontal).click(function(t){t.preventDefault(),i.autoDispose?i.close():i.hide(),i.fire("closeall")}).appendTo(this),e(this).addClass("tip-has-close")),i.shadow&&e(this).addClass("tip-shadow"),i.radius&&e(this).addClass("tip-radius")}},t.position),delete t.position,i.content="",i.target="",i.tooltipClass="",i.arrow=!0,i.closebox=!1,i.shadow=!0,i.radius=!0,i.autoDispose=!0,i.effect=!0}).extend({init:function(t){var i=this;i.target=e(i.target),0!=i.target.size()&&(i.target.attr("title")||i.target.attr("title",""),i.target.tooltip({content:i.content,position:i.position,tooltipClass:i.tooltipClass,open:function(t){i.fire("onopen",t)},close:function(t){i.fire("onclose",t)}}),i.instance=i.target.data("ui-tooltip"),i.target.tooltip("open",{target:i.instance.element}),i._status="show",t.autoDisplay===!1&&this.close())},getTipContainer:function(){return this.instance._find(e(this.target))},getTipBody:function(){return this.getTipContainer().find(".ui-tooltip-content")},getStatus:function(){return this._status},open:function(){var t=this.target;t.attr("title")||t.attr("title",""),t.tooltip("open",{target:this.instance.element}),this._status="show",this.fire("show")},show:function(){this.autoDispose?this.open():(this.getTipContainer()[this.effect?"fadeIn":"show"](),this._status="show")},close:function(){this.target.tooltip("close"),this._status="hide"},hide:function(){this.autoDispose?this.close():(this.getTipContainer()[this.effect?"fadeOut":"hide"](),this._status="hide")}})});
;define("common-jquery:widget/js/ui/dialog/dialog.js",function(t,n,i){var e=t("common-jquery:widget/lib/jquery/jquery.js"),o=t("common-jquery:widget/js/util/event/event.js"),s=t("common-jquery:widget/js/ui/base/base.js");t("common-jquery:widget/lib/jquery.ui/jquery.ui.dialog.js");var c={},a=s().extend({init:function(t){var n=this;t=e.extend({modal:!0,closeText:"关闭",resizable:!1,draggable:!0,dialogClass:t.className,btnAlign:"center"},t||{}),n.instance=t.target?e(t.target).dialog(t):e("<div>",{id:"ik-dlg-"+n.guid}).html(t.content).dialog(t),e.isArray(t.buttons)&&n.customBttons(t.buttons),n.instance.next().css("text-align",t.btnAlign),t.autoDispose&&n.instance.on("dialogclose",function(){e(this).dialog("destroy").remove(),delete c[n.guid],n.isDestroy=!0}),c[n.guid]=n.instance,e(window).on("resize",function(){n&&n.center()})},customBttons:function(t){var n=this,i=this.instance.next().children("div"),o=i.find("button");e(t).each(function(t){var o=this;!this.className&&2>t&&(this.className=["btn-32-green","btn-32-white"][t]+" mr-10"),e('<a href="#" />').text(this.text||"").appendTo(i).addClass(this.className||"").click(function(t){t.preventDefault(),o.click.apply(n.instance,arguments)})}),o.remove()},open:function(){!this.isDestroy&&this.instance.dialog("open")},close:function(){!this.isDestroy&&this.instance.dialog("close")},center:function(){!this.isDestroy&&this.instance.dialog("option","position",{my:"center",at:"center",of:window})},getDialogContainer:function(){return this.isDestroy?null:this.instance.dialog("widget")},setSize:function(t){!this.isDestroy&&this.instance.dialog("option",t)},setTitle:function(t){!this.isDestroy&&t&&this.instance.dialog("option","title",t)}});o.on("dialog.close",function(){a.close()}),i.exports=e.extend(a,{alert:function(t,n){return n=e.extend({title:"经验提示",content:t,buttons:[{text:"确定",click:function(){e.isFunction(n.onaccept)&&n.onaccept.apply(this,arguments),e(this).dialog("close")}}]},n||{}),new a(n)},confirm:function(t,n){return n.buttons=n.buttons||[{text:"确定",click:function(){e.isFunction(n.onaccept)&&n.onaccept.apply(this,arguments)}},{text:"取消",click:function(){e.isFunction(n.oncancel)&&n.oncancel.apply(this,arguments),e(this).dialog("close")}}],a.alert(t,n)},iframe:function(t){var n='<iframe frameborder="no" class="ui-dialog-content-iframe" src="'+t.content+'"></iframe>';return t.content=n,t.buttons||(t.buttons=[]),t.dialogClass="dialog-iframe",a.alert(n,t)},notice:function(t,n){var n=e.extend({width:250,height:100},n||{}),i={buttons:[],width:n.width,height:n.height,dialogClass:"dialog-notice",autoDispose:!0,content:t,duration:1500,open:function(){var t=this;setTimeout(function(){e(t).dialog("close"),e.isFunction(n.callback)&&n.callback()},i.duration)}};return e.extend(i,n||{}),new a(i)},close:function(){e.each(c,function(t,n){try{n&&n.dialog("close")}catch(i){}})}})});